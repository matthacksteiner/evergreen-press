---
const { global } = Astro.props;
const slug = Astro.params.slug;
const currentPath = slug ? slug : '';

const headerOverlayBackground = global.headerOverlayBackground;
const headerFont = global.headerFont;
const headerFontSize = global.headerFontSize;
---

<div
	class={`nav-links bg--${headerOverlayBackground} font--${headerFontSize} lg:bg-transparent invisible top-0 left-0 z-10 mr-24 flex min-h-full w-full flex-col justify-center text-center opacity-0 transition-opacity delay-100 duration-300 ease-in-out placeholder:pointer-events-none max-lg:fixed lg:visible lg:flex lg:flex-row lg:justify-end lg:opacity-100`}
>
	{
		global.navHeader &&
			global.navHeader.map((item) => {
				if (item.type === 'url') {
					return (
						<a
							href={item.href}
							target={`${item.popup === true ? '_blank' : '_self'}`}
							rel={`${item.popup === true ? 'noopener noreferrer' : ''}`}
							class="nav-link max-lg:mb-8 lg:mr-16 lg:last:mr-0 2xl:mr-24"
						>
							{item.title}
						</a>
					);
				}

				if (item.type === 'page') {
					return (
						<a
							href={item.hash ? `${item.uri}#${item.hash}` : `${item.uri}`}
							target={item.popup ? '_blank' : undefined}
							rel={item.popup ? 'noopener' : undefined}
							class={`nav-link max-lg:mb-8 lg:mr-16 lg:last:mr-0 2xl:mr-24 ${
								currentPath === item.uri ? 'active' : ''
							}`}
						>
							{item.title}
						</a>
					);
				}
			})
	}
</div>

<style lang="css" define:vars={{ headerFont }}>
	.nav-links {
		font-family: var(--headerFont);
	}

	.expanded {
		@apply pointer-events-auto visible opacity-100;
	}
	.active {
		@apply font-semibold;
	}
</style>
