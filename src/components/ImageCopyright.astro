---
const {
	copyrighttitle: copyrightTitle,
	copyrighttextfont: copyrightTextFont,
	copyrighttextsize: copyrightTextSize,
	copyrighttextcolor: copyrightTextColor,
	copyrightposition: copyrightPosition,
	copyrighbackgroundcolor: copyrightBackgroundColor,
} = Astro.props;

let positionClasses = '';
switch (copyrightPosition) {
	case 'topleft':
		positionClasses = 'top-4 left-4';
		break;
	case 'topright':
		positionClasses = 'top-4 right-4';
		break;
	case 'bottomleft':
		positionClasses = 'bottom-4 left-4';
		break;
	case 'bottomright':
		positionClasses = 'bottom-4 right-4';
		break;
	default:
		positionClasses = 'top-4 right-4';
}
---

<div
	id="copyContainer"
	class:list={[
		'absolute',
		'inline-flex',
		'cursor-pointer',
		'items-center',
		'justify-center',
		'rounded-full',
		'border-2',
		'bg-opacity-50',
		'hover:bg-opacity-100',
		'px-2',
		`text--${copyrightTextColor}`,
		`bg--${copyrightBackgroundColor}`,
		`font--${copyrightTextSize}`,
		positionClasses,
	]}
	style={`font-family: ${copyrightTextFont};`}
>
	<div id="copySymbol" class="copySymbol pointer-events-none">Â©</div>
	<div id="copyText" class="copyText pointer-events-none hidden px-1">
		{copyrightTitle}
	</div>
</div>

<script>
	document.addEventListener('DOMContentLoaded', () => {
		const copySymbol = document.getElementById('copySymbol');
		const copyText = document.getElementById('copyText');
		const copyContainer = document.getElementById('copyContainer');

		if (copySymbol && copyText && copyContainer) {
			copyContainer.addEventListener('click', () => {
				if (copySymbol.classList.contains('hidden')) {
					copySymbol.classList.remove('hidden');
					copyText.classList.add('hidden');
				} else {
					copySymbol.classList.add('hidden');
					copyText.classList.remove('hidden');
				}
			});
		}
	});
</script>
