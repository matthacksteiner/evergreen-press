---
const { data, global, links } = Astro.props;
const { slug } = Astro.params;
const currentPath = slug ? slug : '';
const currentLang = data.lang;
const translations = global.translations;
---

{
    links &&
        links.map((item) => {
            if (item.type === 'url') {
                return (
                    <a
                        href={item.href}
                        target={`${item.popup === true ? '_blank' : '_self'}`}
                        rel={`${item.popup === true ? 'noopener noreferrer' : ''}`}
                        class="nav-link max-lg:mb-8 lg:mr-16 lg:last:mr-0 2xl:mr-24"
                    >
                        {item.title}
                    </a>
                );
            }

            if (item.type === 'page') {
                return (
                    <a
                        href={
                            item.hash
                                ? `${
                                        translations.length > 0
                                            ? '/' + currentLang
                                            : ''
                                  }${item.uri}#${item.hash}`
                                : `${
                                    translations.length > 0
                                            ? '/' + currentLang
                                            : ''
                                  }/${item.uri}`
                        }
                        target={item.popup ? '_blank' : undefined}
                        rel={item.popup ? 'noopener' : undefined}
                        class={`nav-link max-lg:mb-8 lg:mr-16 2xl:mr-24
                            ${currentPath === item.uri ? 'active' : ''}
                            ${translations.length === 0 ? 'last:mr-0' : ''}
                        `}
                        }
                    >
                        {item.title}
                    </a>
                );
            }
        })
}