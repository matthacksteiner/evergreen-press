---
import '../styles/global.css';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import MetaKnight from '../components/MetaKnight.astro';

const { data, global, pageTitle } = Astro.props;
const colorPrimary = global.colorPrimary;
const colorSecondary = global.colorSecondary;
const colorTertiary = global.colorTertiary;
const colorBlack = global.colorBlack;
const colorWhite = global.colorWhite;
const colorTransparent = global.colorTransparent;

function getBackgroundColor() {
	const backgroundColor = global.backgroundColor;
	if (backgroundColor === 'primary') {
		return 'bg-primary';
	} else if (backgroundColor === 'secondary') {
		return 'bg-secondary';
	} else if (backgroundColor === 'tertiary') {
		return 'bg-tertiary';
	} else if (backgroundColor === 'black') {
		return 'bg-colorBlack';
	} else if (backgroundColor === 'white') {
		return 'bg-colorWhite';
	} else if (backgroundColor === 'transparent') {
		return 'bg-colorTransparent';
	}
}
const backgroundColor = getBackgroundColor();
---

<!DOCTYPE html>
<html
	lang="de"
	class:list={['full motion-safe:scroll-smooth', backgroundColor]}
>
	<head>
		<MetaKnight data={data} />
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<title>{pageTitle}</title>
		<!-- <link rel="icon" href="/favicon.ico" /> -->
		<link rel="icon" href="/favicon.svg" type="image/svg+xml" />
		<!-- <link rel="apple-touch-icon" href="/apple-touch-icon.png" /> -->
		<!-- <link rel="manifest" href="/site.webmanifest" /> -->
		<meta name="theme-color" content={`${colorPrimary}`} />
	</head>
	<body
		class="mx-auto items-center overflow-x-hidden selection:bg-secondary selection:text-white"
	>
		<Header data={data} global={global} />
		<main class="mb-20 flex min-h-[100vh] w-full flex-col">
			<slot />
		</main>
		<Footer data={data} global={global} />
		<script>
			import '../scripts/menu.js';
		</script>
		<style
			is:global
			lang="css"
			define:vars={{
				colorPrimary,
				colorSecondary,
				colorTertiary,
				colorBlack,
				colorWhite,
				colorTransparent,
			}}
		>
			:root {
				--color-primary: var(--colorPrimary);
				--color-secondary: var(--colorSecondary);
				--color-tertiary: var(--colorTertiary);
				--color-black: var(--colorBlack);
				--color-white: var(--colorWhite);
				--color-transparent: var(--colorTransparent);
			}
		</style>
	</body>
</html>
